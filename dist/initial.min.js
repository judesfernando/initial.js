!function(a){a.fn.initial=function(b){return this.each(function(){function c(a){return a.split("").map(function(a,b){return a.charCodeAt(0)*Math.pow(2,b)}).reduce(function(a,b){return a+b})/Math.pow(3,a.length)}function d(a){var b=3;if(b>a)for(;b>a;)a*=2*b;else for(;parseInt(a)>b;)a/=2*b;return a}function e(a,b){return Math.sin(a*b)*Math.cos(a/b)*.5+.5}function f(a,b,c){var d=c*b,e={red:0,green:0,blue:0},f=6*a,g=d*(1-Math.abs(f%2-1));switch(Math.floor(f)){case 0:e.red=d,e.green=g;break;case 1:e.red=g,e.green=d;break;case 2:e.green=d,e.blue=g;break;case 3:e.green=g,e.blue=d;break;case 4:e.red=g,e.green=d;break;case 5:case 6:e.red=d,e.green=g}var h=c-d,i={red:e.red+h,green:e.green+h,blue:e.blue+h};return Number(i.red).toString(16)+Number(i.green).toString(16)+Number(i.blue).toString(16)}var g=a(this),h=a.extend({name:"Name",seed:0,charCount:1,wordCount:2,textColor:"#ffffff",height:100,width:100,fontSize:60,fontWeight:400,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif",radius:0,src:null},b);if(h=a.extend(h,g.data()),h.src)return void g.css({width:h.width+"px",height:h.height+"px","border-radius":h.radius+"px","-moz-border-radius":h.radius+"px"}).attr("src",h.src);h.name=h.name||"DaMaVaNd";var i=h.name.split(" ",h.wordCount).map(function(a){return a.substr(0,h.charCount).toUpperCase()}).join(""),j=a('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:h.textColor,"font-family":h.fontFamily}).html(i).css({"font-weight":h.fontWeight,"font-size":h.fontSize+"px"}),k=d(c(h.name))*(h.seed+1),l={hue:e(h.name.length,k),saturation:.8,brightness:.3},m=a("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:h.width,height:h.height}).css({"background-color":"#"+f(l.hue,l.saturation,l.brightness),width:h.width+"px",height:h.height+"px","border-radius":h.radius+"px","-moz-border-radius":h.radius+"px"});m.append(j);var n=window.btoa(unescape(encodeURIComponent(a("<div>").append(m.clone()).html())));g.attr("src","data:image/svg+xml;base64,"+n)})}}(jQuery);